\chapter{The Theory of Moments of \texorpdfstring{$L$}{L}-functions}
  The study of moments of $L$-functions is essentially the method of studying a single $L$-function, or a family of $L$-functions, on average. While this approach leads to weaker results for a single $L$-function, it is often more malleable and sheds light on the general behavior of these objects. In the following we introduce moments of a single $L$-function, moments of families, and discuss some of their longstanding conjectures.
\section{Moments of \texorpdfstring{$L$}{L}-functions}
  One of the longstanding goal in the study of $L$-functions is to prove the Riemann hypothesis for the Riemann zeta function. More generally, we wish to prove the Riemann hypothesis for different types of $L$-functions. Another longstanding goal would be to prove the Lindel\"of hypothesis for the Riemann zeta function, or more generally, any Selberg class $L$-function. While both the Riemann and Lindel\"of hypotheses remain out of reach for any Selberg class $L$-function $L(s,f)$, the latter is more tractable because the convexity bound gives the estimate
  \[
    L\left(\frac{1}{2}+it,f\right) \ll_{\e} \mf{q}\left(\frac{1}{2}+it,f\right)^{\d+\e},
  \]
  with $\d = \frac{1}{4}$ whereas the Lindel\"of hypothesis claims that we can take $\d = 0$. As we have already mentioned, breaking the convexity bound $\d = \frac{1}{4}$ is a very daunting task requiring extremely modern techniques and has only been successful in a few cases. This approach of breaking convexity to study the Lindel\"of hypothesis is quite direct. There is another approach to study the Lindel\"of hypothesis that is more indirect by considering averages of the $L$-function in question. This is the study of moments of $L$-functions. For any $L$-function $L(s,f)$ and $k \ge 1$, we define the $2k$-th \textbf{moment}\index{moment} of $L(s,f)$, namely $M_{2k}(T,f)$, to be
  \[
    M_{2k}(T,f) = \int_{T}^{2T}\left|L\left(\frac{1}{2}+it,f\right)\right|^{2k}\,dt,
  \]
  for any $T > 0$. More generally, we can define moments for any continuous or discrete family $\mc{F}$ of $L$-functions. For any $k \ge 1$, we define the $2k$-th \textbf{moment}\index{moment} of $\mc{F}$, namely $M_{2k}(T,\mc{F};\s)$ or $M_{2k}(Q,\mc{F};s)$, to be
  \[
    M_{2k}(T,\mc{F};\s) = \int_{T}^{2T}|L\left(\s+it,f\right)|^{2k}\,dt \quad \text{or} \quad M_{2k}(Q,\mc{F};s) = \sum_{\substack{f \in \mc{F} \\ q(f) \le Q}}|L\left(s,f\right)|^{2k},
  \]
  according to if $\mc{F}$ is continuous or discrete. We call these moments \textbf{continuous}\index{continuous} and \textbf{discrete}\index{discrete} respectively. Note that continuous moments only depend upon $\s$ while discrete moments may depend upon $s$. Moreover, we suppress the dependence upon $\s$ or $s$ respectively if $s = \frac{1}{2}$. So in the case of a continuous family, $M_{2k}(T,\mc{F}) = M_{2k}(T,f)$.

  \begin{remark}
    The most important results tend to be for moments at $s = \frac{1}{2}$.
  \end{remark}

  It is useful think of studying the moment $M_{2k}(T,f)$ as essentially a continuous $2k$-power average version of the Lindel\"of hypothesis for $L(s,f)$. We are primarily interested in the asymptotic behavior of $M_{2k}(T,f)$ as $T \to \infty$ for all $k \ge 1$. Indeed, sufficient estimates for $M_{2k}(T,f)$ in $T$ for all $k \ge 1$, is equivalent to the Lindel\"of hypothesis as the following proposition shows:

  \begin{proposition}\label{prop:equivalence_Lindelof_hypothesis_and_moments}
    Let $L(s,f)$ be an $L$-function. The truth of the Lindel\"of hypothesis for $L(s,f)$ is equivalent to the estimate
    \[
      M_{2k}(T,f) \ll_{\e} T^{1+\e},
    \]
    for all $k \ge 1$.
  \end{proposition}
  \begin{proof}
    First suppose the Lindel\"of hypothesis for $L(s,f)$ holds. As $\mf{q}\left(\frac{1}{2}+it,f\right) \ll t^{d_{f}}$, Lindel\"of hypothesis for $L(s,f)$ implies
    \[
      M_{2k}(T,f) \ll \int_{T}^{2T}t^{\e}\,dt \ll T^{1+\e},
    \]
    as desired. Now suppose that $M_{2k}(T,f) \ll_{\e} T^{1+\e}$ for all $k \ge 1$. If the Lindel\"of hypothesis for $L(s,f)$ is false, then there is some $0 < \l < 1$ and positive unbounded real sequence $(t_{n})_{n \ge 1}$ such that
    \[
      \left|L\left(\frac{1}{2}+it_{n},f\right)\right| > C\mf{q}\left(\frac{1}{2}+it_{n},f\right)^{\l},
    \]
    for any $C > 0$. In particular,
      \[
      \left|L\left(\frac{1}{2}+it,f\right)\right| > Ct_{n}^{d_{f}\l}.
    \]
    Now the convexity bound for $L'(s,f)$ implies that $L\left(\frac{1}{2}+it\right) \le C't^{d_{f}}$ for some $C' > 0$ and $t$ bounded away from zero. Then
    \[
      \left|L\left(\frac{1}{2}+it,f\right)-L\left(\frac{1}{2}+it_{n},f\right)\right| = \left|\int_{t_{n}}^{t}L\left(\frac{1}{2}+ir,f\right)\,dr\right| < C't_{n}^{d_{f}}|t-t_{n}| < \frac{C}{2}t_{n}^{d_{f}\l},
    \]
    where the last inequality holds provided $|t-t_{n}| \le t_{n}^{d_{f}(\l-1)}$ and sufficiently large $n$ (hence $t_{n}$ and $t$ are bounded away from zero). Then for such $n$, the previous two bounds together imply
    \[
      \left|L\left(\frac{1}{2}+it,f\right)\right| > \frac{C}{2}t_{n}^{d_{f}\l},
    \]
    for $|t-t_{n}| \le t_{n}^{d_{f}(\l-1)}$. Now take $T = \frac{2}{3}t_{n}$ so that the interval $(t_{n}-t_{n}^{d_{f}(\l-1)},t_{n}+t_{n}^{d_{f}(\l-1)})$ is contained in $\left(T,2T\right)$ for sufficiently large $n$. Then
    \[
      \int_{T}^{2T}\left|L\left(\frac{1}{2}+it,f\right)\right|^{2k}\,dt > \int_{t_{n}-t_{n}^{d_{f}(\l-1)}}^{t_{n}+t_{n}^{d_{f}(\l-1)}}\left|L\left(\frac{1}{2}+it,f\right)\right|^{2k}\,dt > 2\left(\frac{C}{2}\right)^{2k}t_{n}^{(2k+1)d_{f}\l-d_{f}},
    \]
    and it follows that
    \[
      M_{2k}(T,f) > 2\left(\frac{C}{2}\right)^{2k}\left(\frac{3}{4}\right)^{(2k+1)d_{f}\l-d_{f}}T^{(2k+1)d_{f}\l-d_{f}},
    \]
    which is a contradiction for sufficiently large $k$. This completes the proof.
  \end{proof}

  The usefulness of \cref{prop:equivalence_Lindelof_hypothesis_and_moments} is that the difficulty of proving the Lindel\"of hypothesis has been transferred to proving asymptotics for the moments $M_{2k}(T,f)$ each of which should, heuristically speaking, be an easier problem to resolve on its own.
\section{\todo{The CFKRS Conjectures}}
  Hardy and Littlewood were the first to introduce moments and they did so in the context of the Riemann zeta function. In 1918, they proved an asymptotic for the second moment (see \cite{hardy1916contributions} for a proof):
  \[
    M_{2}(T,\zeta) \sim T\log(T).
  \]
  In 1926, Ingham obtained an asymptotic for the fourth moment (see \cite{ingham1928mean} for a proof):
  \[
    M_{4}(T,\zeta) \sim \frac{1}{2\pi^{2}}T\log^{4}(T).
  \]
  Observe that both of these asymptotics are stronger than those in \cref{prop:equivalence_Lindelof_hypothesis_and_moments}. In other words, this is evidence in support of the truth of the Lindel\"of hypotheses for $\z(s)$. Unfortunately, this is where progress significantly halts. No analogous formula have been obtained for moments of any $L$-function when $k > 2$. In fact, the problem is so intractable that, until recently, there were not even conjectures about what the asymptotics should be. It is now conjectured that
  \[
    M_{2k}(T,\zeta) \sim C_{k}T\log^{k^{2}}(T),
  \]
  for all $k \ge 1$ where $C_{k}$ is a constant.